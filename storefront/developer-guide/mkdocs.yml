INHERIT: ../mkdocs.yml

# Hooks to fix search index for versioned docs
hooks:
    - ../../overrides/hooks/search_index_fixer.py

theme:
    custom_dir: ../../overrides
    hide: false

# Override plugins for versioned site
# Note: INHERIT doesn't merge plugins, so we must include ALL needed plugins
plugins:
    - search:
        lang: en
    - git-revision-date-localized
    - minify
    - include-markdown
    - mike:
        alias_type: redirect

# Project information
extra_site_name: Frontend Dev Docs
site_name: Storefront Developer Guide
site_description: Build and personalize your online store for engaging shopping experiences
site_url: https://docs.virtocommerce.org/storefront/developer-guide
use_directory_urls: true


# Repository
repo_name: VirtoCommerce/vc-platform
repo_url: https://github.com/VirtoCommerce/vc-platform
edit_uri: edit/dev/docs/

# Versioning
extra:
    version:
        provider: mike
        default: latest
    # Search configuration for versioned site
    search:
        # Limit search to current version only
        index_only_current: true
        # Exclude other versions from search index
        exclude_versions: true

# CSS and JavaScript (must include ALL files from root, as INHERIT doesn't merge arrays)
extra_css:
    - assets/stylesheets/main.css
    - assets/stylesheets/fonts.css
    - assets/stylesheets/version-selector.css

extra_javascript:
    - assets/scripts/version-redirect.js
    - assets/scripts/version-selector-handler.js
    - assets/scripts/scripts-loader.js
    - assets/scripts/scroll-menu.js

# Page tree
nav:
    - Overview: index.md
    - Architecture:
        - Frontend Application Architecture: architecture.md
        - Modules Architecture: modules-architecture/modules-architecture.md
        - SPA Architecture for SEO and 404 Handling: spa-architecture-for-seo-and-404-handling.md
    - Deployment: deployment.md
    - Update: update.md
    - Customization and Development Accelerators:
        - Overview: customization/overview.md
        - Customization:
            - Overview: customization/customization-overview.md
            - Visual Theme Customization: customization/visual-theme-customization.md
            - Functionality Customization: customization/functionality-customization.md
        - Development Accelerators:
            - Overview: customization/accelerators-overview.md
            - Guidelines for Using Accelerators: customization/accelerators-guidelines.md
            - Locales Management: customization/texts-customization.md
    - Merge: merge.md
    - Migration to Storefrontless Architecture:
        - Overview: migration.md
        - Migration on Azure Cloud: migration-on-azure.md
        - Migration on Local Machine: migration-on-local-machine.md
    - Authentication:
        - Token-based Authentication: authentication/authentication-types.md
        - Anonymous Authentication: authentication/anonymous-authentication.md
        - Adding Azure AD (Entra ID) as SSO Provider: authentication/adding-sso-provider.md
        - Adding Google as SSO Provider: authentication/adding-google-as-sso-provider.md
    - Integrations:
        - Google Analytics Events: integrations/google-analytics/ga-events.md
        - Enhancing SEO with Prerender.io: integrations/prerender_io.md
        - Builder.io: integrations/builder-io/overview.md
        - Storyblok:
            - Overview: integrations/storyblok/overview.md
            - Catalog Menu Integration: integrations/storyblok/catalog-menu-integration.md
            - Category Page Integration: integrations/storyblok/category-page-integration.md
            - Footer Integration: integrations/storyblok/footer-integration.md
            - Index Page Integration: integrations/storyblok/index-page-integration.md
            - Registering Custom Components: integrations/storyblok/registering-custom-components.md
