INHERIT: ../../mkdocs.yml

# Hooks to fix search index for versioned docs
hooks:
    - ../../overrides/hooks/search_index_fixer.py

# Override plugins for versioned site
plugins:
    - search:
        # Configure search for versioned content
        lang: en
        # Only index current version
        index_docs: true
        index_other: false
        # Exclude versioned paths from other versions
        exclude_docs: |
            /1.0/
            /1.1/
            /2.0/
            /latest/
    - git-revision-date-localized
    - minify
    - include-markdown
    - mike:
        alias_type: redirect
theme:
    custom_dir: ../../overrides
    hide: false

# Project information
extra_site_name: Frontend User Docs
site_name: Storefront User Guide
site_description: Build and personalize your online store for engaging shopping experiences
site_url: https://docs.virtocommerce.org/storefront/user-guide
use_directory_urls: true

# Repository
repo_name: VirtoCommerce/vc-platform
repo_url: https://github.com/VirtoCommerce/vc-platform
edit_uri: edit/dev/docs/

# Versioning
extra:
    version:
        provider: mike
        default: latest
    # Search configuration for versioned site
    search:
        # Limit search to current version only
        index_only_current: true
        # Exclude other versions from search index
        exclude_versions: true

# CSS and JavaScript (must include ALL files from root, as INHERIT doesn't merge arrays)
extra_css:
    - assets/stylesheets/main.css
    - assets/stylesheets/fonts.css
    - assets/stylesheets/version-selector.css

extra_javascript:
    - assets/scripts/version-redirect.js
    - assets/scripts/version-selector-handler.js
    - assets/scripts/scripts-loader.js
    - assets/scripts/scroll-menu.js

# Page tree
nav:
    - Overview: index.md
    - Register and Sign In:
          - Create Account: registration_and_signing_in/create-account.md
          - Sign In: registration_and_signing_in/sign-in.md
          - Password Management: registration_and_signing_in/password-management.md
    - Navigation:
          - Homepage Layout: navigation/homepage-layout.md
          - Product Page Layout: navigation/product-page-layout.md
          - Brands Page: navigation/brands-page.md
    - Account:
          - Personal and Corporate Accounts: account/overview.md
          - Dashboard: account/dashboard.md
          - Profile: account/profile.md
          - Change Password: account/change-password.md
          - Addresses: account/addresses.md
          - Orders: account/orders.md
          - Product Reviews: account/review-products.md
          - Saved for Later: account/saved-for-later.md
          - Lists: account/lists.md
          - Quote Requests: account/quote-requests.md
          - Saved Credit Cards: account/saved-credit-cards.md
          - Notifications: account/notifications.md
          - Back-in-Stock List: account/back-in-stock-list.md
          - Purchase Requests: account/purchase-requests.md
          - Points History: account/points-history.md
          - Company Info: account/company-info.md
          - Company Members: account/company-members.md
    - Shopping:
          - Options for Buying Products: shopping/products-purchase-options.md
          - Search Options: shopping/searching-for-products.md
          - Back-in-Stock Notifications: shopping/back-in-stock-notifications.md
          - Bulk Orders: shopping/bulk-orders.md
          - Compare Products: shopping/compare-products.md
          - Product Lists: shopping/lists.md
          - Save for Later: shopping/save-for-later.md
          - Notifications: shopping/notifications.md
          - Checkout: shopping/checkout-process.md

