INHERIT: ../../mkdocs.yml

# Hooks to fix search index for versioned docs
hooks:
    - ../../overrides/hooks/search_index_fixer.py

# Override plugins for versioned site
plugins:
    - search:
        # Configure search for versioned content
        lang: en
        # Only index current version
        index_docs: true
        index_other: false
        # Exclude versioned paths from other versions
        exclude_docs: |
            /1.0/
            /1.1/
            /2.0/
            /latest/
    - git-revision-date-localized
    - minify
    - mike:
        alias_type: redirect
theme:
    custom_dir: ../../overrides
    hide: false

# Project information
extra_site_name: Marketplace User Docs
site_name: Marketplace User Guide
site_description: Self-service portals to manage tasks for marketplace operators and vendors
site_author: Virto Commerce
site_url: https://docs.virtocommerce.org/marketplace/user-guide
use_directory_urls: true

# Repository
repo_name: VirtoCommerce/vc-platform
repo_url: https://github.com/VirtoCommerce/vc-platform
edit_uri: edit/dev/docs/

# Versioning
extra:
    version:
        provider: mike
        default: latest
    # Search configuration for versioned site
    search:
        # Limit search to current version only
        index_only_current: true
        # Exclude other versions from search index
        exclude_versions: true

# CSS and JavaScript (must include ALL files from root, as INHERIT doesn't merge arrays)
extra_css:
    - assets/stylesheets/main.css
    - assets/stylesheets/fonts.css
    - assets/stylesheets/version-selector.css

extra_javascript:
    - assets/scripts/version-redirect.js
    - assets/scripts/version-selector-handler.js
    - assets/scripts/scripts-loader.js
    - assets/scripts/scroll-menu.js

# Page tree
nav:
    - Overview: index.md
    - Operator Portal:
      - Overview: Operator-portal/overview.md
      - Master Catalog: Operator-portal/master-catalog.md
      - Commissions:
        - Overview: Operator-portal/Commission-fees-setup/overview.md
        - Static Commission Fees: Operator-portal/Commission-fees-setup/static-commission-fees.md
        - Dynamic Commission Fees: Operator-portal/Commission-fees-setup/dynamic-commission-fees.md
      - Vendors:
        - Vendor Onboarding: Operator-portal/Vendors-management/vendor-onboarding.md
        - Vendor Management: Operator-portal/Vendors-management/vendor-management.md
      - Registration Requests: Operator-portal/registration-requests.md
      - Marketplace Products: Operator-portal/marketplace-products.md
      - Offers: Operator-portal/offers.md
      - Operator Orders: Operator-portal/operator-orders.md
      - Quote Requests: Operator-portal/quotes.md
      - State Machines: Operator-portal/state-machines.md
      - AI Helper: Operator-portal/ai-helper.md
      - Communication: Operator-portal/communication.md
    - Vendor Portal:
      - Overview: Vendor-portal/overview.md
      - Orders: Vendor-portal/orders.md
      - Quotes: Vendor-portal/quotes.md
      - Products: Vendor-portal/products-management.md
      - Offers: Vendor-portal/offers.md
      - Import: Vendor-portal/import.md
      - Rating and Reviews: Vendor-portal/rating-and-reviews.md
      - Communication: Vendor-portal/communication.md
      - My Store: Vendor-portal/my-store.md
