<!-- Determine class according to configuration -->
{% set class = "md-header" %}
{% if "navigation.tabs.sticky" in features %}
{% set class = class ~ " md-header--lifted" %}
{% endif %}

<!-- Header -->
<header class="{{ class }}" data-md-component="header">
    <nav class="md-header__inner md-grid"
        aria-label="{{ lang.t('header') }}">
        <!-- Button to open drawer -->
        <label class="md-header__button md-icon" for="__drawer" {% if config.theme.hide  %} {% for toHide in config.theme.hide %} {% if toHide == 'navigation' %} {{'hidden'}} {% endif %}{% endfor %}{% endif %}>
            {% include "assets/icons/menu.svg" %}
        </label>

        <div class="md-header__logo">
            <!-- Header title -->
            <div class="md-header__title">
                <div class="md-header__ellipsis">
                    <div class="md-header__topic">
                        <a href="{{ config.extra.homepage | d(nav.homepage.url, true) | url }}"
                           title="{{ config.extra_site_name | e }}"
                           class="md-header__button md-logo"
                           aria-label="{{ config.extra_site_name }}"
                           data-md-component="logo">
                            {% include "partials/logo.html" %}
                            <span class="md-ellipsis">
                                {{ config.extra_site_name }}
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        {% include "partials/megamenu.html" %}

        <!-- Version selector -->
        {% if config.extra.version.provider == "mike" %}
        <div class="md-header__option">
            <div class="md-select" data-md-component="select" id="__versioning">
                <button class="md-select__inner" aria-label="Select version">
                    <span class="md-select__link">
                        {{ config.extra.version.default }}
                    </span>
                </button>
                <div class="md-select__list">
                    <div id="version-selector"></div>
                </div>
            </div>
        </div>
        {% endif %}

        <!-- Button to open search modal -->
        {% if "material/search" in config["plugins"] %}
        <label class="md-header__button md-icon" for="__search">
            {% include config.extra.search.icon %}
        </label>

        <!-- Search interface -->
        {% include "partials/search.html" %}
        {% endif %}

        {% if config.repo_url %}
        <div class="md-header__source">
            {% include "partials/source.html" %}
        </div>
        {% endif %}

        <!-- Color palette -->
        {% if not config.theme.palette is mapping %}
        {% set paletteVar = "__palette" %}
        {% include "partials/palette.html" %}
        {% endif %}


    </nav>

    <!-- Navigation tabs (sticky) -->
    {% if "navigation.tabs.sticky" in features %}
     {% if "navigation.tabs" in features %}
        {% include "partials/tabs.html" %}
     {% endif %}
    {% endif %}

</header>
